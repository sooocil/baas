'use client';
"use strict";var e=require("tslib"),t=require("react"),r=require("../../assets/ExclamationFilledIcon.cjs"),a=require("../../assets/EyeIcon.cjs"),n=require("../../assets/EyeOffIcon.cjs"),o=require("./selectUtils.cjs"),l=require("../../lib/tremorTwMerge.cjs"),s=require("../../lib/utils.cjs");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=u(t);const c=d.default.forwardRef(((u,c)=>{const{value:m,defaultValue:i,type:p,placeholder:f="Type...",icon:b,error:g=!1,errorMessage:h,disabled:k=!1,stepper:x,makeInputClassName:w,className:v,onChange:E,onValueChange:M,autoFocus:N}=u,T=e.__rest(u,["value","defaultValue","type","placeholder","icon","error","errorMessage","disabled","stepper","makeInputClassName","className","onChange","onValueChange","autoFocus"]),[y,C]=t.useState(N||!1),[j,q]=t.useState(!1),I=t.useCallback((()=>q(!j)),[j,q]),V=b,F=t.useRef(null),L=o.hasValue(m||i);return d.default.useEffect((()=>{const e=()=>C(!0),t=()=>C(!1),r=F.current;return r&&(r.addEventListener("focus",e),r.addEventListener("blur",t),N&&r.focus()),()=>{r&&(r.removeEventListener("focus",e),r.removeEventListener("blur",t))}}),[N]),d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{className:l.tremorTwMerge(w("root"),"relative w-full flex items-center min-w-[10rem] outline-none rounded-tremor-default transition duration-100 border","shadow-tremor-input","dark:shadow-dark-tremor-input",o.getSelectButtonColors(L,k,g),y&&l.tremorTwMerge("ring-2","border-tremor-brand-subtle ring-tremor-brand-muted","dark:border-dark-tremor-brand-subtle dark:ring-dark-tremor-brand-muted"),v)},V?d.default.createElement(V,{className:l.tremorTwMerge(w("icon"),"shrink-0 h-5 w-5 ml-2.5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}):null,d.default.createElement("input",Object.assign({ref:s.mergeRefs([F,c]),defaultValue:i,value:m,type:j?"text":p,className:l.tremorTwMerge(w("input"),"w-full focus:outline-none focus:ring-0 border-none bg-transparent text-tremor-default rounded-tremor-default transition duration-100 py-2","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",V?"pl-2":"pl-3",g?"pr-3":"pr-4",k?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content"),placeholder:f,disabled:k,"data-testid":"base-input",onChange:e=>{null==E||E(e),null==M||M(e.target.value)}},T)),"password"!==p||k?null:d.default.createElement("button",{className:l.tremorTwMerge(w("toggleButton"),"mr-2"),type:"button",onClick:()=>I(),"aria-label":j?"Hide password":"Show Password"},j?d.default.createElement(n,{className:l.tremorTwMerge("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0}):d.default.createElement(a,{className:l.tremorTwMerge("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0})),g?d.default.createElement(r,{className:l.tremorTwMerge(w("errorIcon"),"text-red-500 shrink-0 w-5 h-5 mr-2.5")}):null,null!=x?x:null),g&&h?d.default.createElement("p",{className:l.tremorTwMerge(w("errorMessage"),"text-sm text-red-500 mt-1")},h):null)}));c.displayName="BaseInput",module.exports=c;
