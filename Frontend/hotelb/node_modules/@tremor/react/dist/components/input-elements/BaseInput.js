'use client';
import{__rest as e}from"tslib";import t,{useState as r,useCallback as n,useRef as a}from"react";import o from"../../assets/ExclamationFilledIcon.js";import l from"../../assets/EyeIcon.js";import s from"../../assets/EyeOffIcon.js";import{getSelectButtonColors as m,hasValue as d}from"./selectUtils.js";import{tremorTwMerge as u}from"../../lib/tremorTwMerge.js";import{mergeRefs as c}from"../../lib/utils.js";const i=t.forwardRef(((i,p)=>{const{value:b,defaultValue:f,type:h,placeholder:k="Type...",icon:x,error:g=!1,errorMessage:w,disabled:E=!1,stepper:v,makeInputClassName:N,className:y,onChange:C,onValueChange:j,autoFocus:I}=i,V=e(i,["value","defaultValue","type","placeholder","icon","error","errorMessage","disabled","stepper","makeInputClassName","className","onChange","onValueChange","autoFocus"]),[F,L]=r(I||!1),[M,B]=r(!1),O=n((()=>B(!M)),[M,B]),T=x,H=a(null),P=d(b||f);return t.useEffect((()=>{const e=()=>L(!0),t=()=>L(!1),r=H.current;return r&&(r.addEventListener("focus",e),r.addEventListener("blur",t),I&&r.focus()),()=>{r&&(r.removeEventListener("focus",e),r.removeEventListener("blur",t))}}),[I]),t.createElement(t.Fragment,null,t.createElement("div",{className:u(N("root"),"relative w-full flex items-center min-w-[10rem] outline-none rounded-tremor-default transition duration-100 border","shadow-tremor-input","dark:shadow-dark-tremor-input",m(P,E,g),F&&u("ring-2","border-tremor-brand-subtle ring-tremor-brand-muted","dark:border-dark-tremor-brand-subtle dark:ring-dark-tremor-brand-muted"),y)},T?t.createElement(T,{className:u(N("icon"),"shrink-0 h-5 w-5 ml-2.5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}):null,t.createElement("input",Object.assign({ref:c([H,p]),defaultValue:f,value:b,type:M?"text":h,className:u(N("input"),"w-full focus:outline-none focus:ring-0 border-none bg-transparent text-tremor-default rounded-tremor-default transition duration-100 py-2","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",T?"pl-2":"pl-3",g?"pr-3":"pr-4",E?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content"),placeholder:k,disabled:E,"data-testid":"base-input",onChange:e=>{null==C||C(e),null==j||j(e.target.value)}},V)),"password"!==h||E?null:t.createElement("button",{className:u(N("toggleButton"),"mr-2"),type:"button",onClick:()=>O(),"aria-label":M?"Hide password":"Show Password"},M?t.createElement(s,{className:u("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0}):t.createElement(l,{className:u("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0})),g?t.createElement(o,{className:u(N("errorIcon"),"text-red-500 shrink-0 w-5 h-5 mr-2.5")}):null,null!=v?v:null),g&&w?t.createElement("p",{className:u(N("errorMessage"),"text-sm text-red-500 mt-1")},w):null)}));i.displayName="BaseInput";export{i as default};
