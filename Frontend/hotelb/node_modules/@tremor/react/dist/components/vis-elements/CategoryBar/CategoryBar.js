'use client';
import{__rest as e}from"tslib";import t from"react";import r,{useTooltip as l}from"../../util-elements/Tooltip/Tooltip.js";import{colorPalette as a,themeColorRange as s}from"../../../lib/theme.js";import{tremorTwMerge as o}from"../../../lib/tremorTwMerge.js";import{getColorClassNames as n,makeClassName as m,sumNumericArray as i}from"../../../lib/utils.js";const c=m("CategoryBar"),d=({values:e})=>{const r=i(e);let l=0,a=0;return t.createElement("div",{className:o(c("labels"),"relative flex w-full text-tremor-default h-5 mb-2","text-tremor-content","dark:text-dark-tremor-content")},e.slice(0,e.length).map(((e,s)=>{l+=e;const n=(e>=.1*r||a>=.09*r)&&r-l>=.15*r&&l>=.1*r;return a=n?0:a+=e,t.createElement("div",{key:`item-${s}`,className:"flex items-center justify-end",style:{width:`${e}%`}},t.createElement("span",{className:o(n?"block":"hidden","left-1/2 translate-x-1/2")},l))})),t.createElement("div",{className:o("absolute bottom-0 flex items-center left-0")},"0"),t.createElement("div",{className:o("absolute bottom-0 flex items-center right-0")},r))},f=t.forwardRef(((m,i)=>{const{values:f=[],colors:u=s,markerValue:b,showLabels:v=!0,tooltip:p,showAnimation:g=!1,className:h}=m,x=e(m,["values","colors","markerValue","showLabels","tooltip","showAnimation","className"]),E=((e,t,r)=>{if(void 0===e)return"";let l=0;for(let s=0;s<t.length;s++){const o=t[s],m=n(r[s],a.background).bgColor;if(l+=o,l>=e)return m}return""})(b,f,u),{tooltipProps:N,getReferenceProps:k}=l();return t.createElement(t.Fragment,null,t.createElement(r,Object.assign({text:p},N)),t.createElement("div",Object.assign({ref:i,className:o(c("root"),h)},x),v?t.createElement(d,{values:f}):null,t.createElement("div",{className:o(c("barWrapper"),"relative w-full flex items-center h-2")},t.createElement("div",{className:o("flex-1 flex items-center h-full overflow-hidden rounded-tremor-full")},f.map(((e,r)=>{var l;const s=null!==(l=u[r])&&void 0!==l?l:"gray";return t.createElement("div",{key:`item-${r}`,className:o(c("categoryBar"),"h-full",n(s,a.background).bgColor),style:{width:`${e}%`}})}))),void 0!==b?t.createElement("div",Object.assign({ref:N.refs.setReference,className:o(c("markerWrapper"),"absolute right-1/2 -translate-x-1/2 w-5"),style:{left:`${b}%`,transition:g?"all 1s":""}},k),t.createElement("div",{className:o(c("marker"),"ring-2 mx-auto rounded-tremor-full h-4 w-1","ring-tremor-brand-inverted","dark:ring-dark-tremor-brand-inverted",E)})):null)))}));f.displayName="CategoryBar";export{f as default};
