'use client';
"use strict";var e=require("tslib"),t=require("react"),r=require("../../util-elements/Tooltip/Tooltip.cjs"),l=require("../../../lib/theme.cjs"),a=require("../../../lib/tremorTwMerge.cjs"),o=require("../../../lib/utils.cjs");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=s(t);const m=o.makeClassName("CategoryBar"),i=({values:e})=>{const t=o.sumNumericArray(e);let r=0,l=0;return n.default.createElement("div",{className:a.tremorTwMerge(m("labels"),"relative flex w-full text-tremor-default h-5 mb-2","text-tremor-content","dark:text-dark-tremor-content")},e.slice(0,e.length).map(((e,o)=>{r+=e;const s=(e>=.1*t||l>=.09*t)&&t-r>=.15*t&&r>=.1*t;return l=s?0:l+=e,n.default.createElement("div",{key:`item-${o}`,className:"flex items-center justify-end",style:{width:`${e}%`}},n.default.createElement("span",{className:a.tremorTwMerge(s?"block":"hidden","left-1/2 translate-x-1/2")},r))})),n.default.createElement("div",{className:a.tremorTwMerge("absolute bottom-0 flex items-center left-0")},"0"),n.default.createElement("div",{className:a.tremorTwMerge("absolute bottom-0 flex items-center right-0")},t))},u=n.default.forwardRef(((t,s)=>{const{values:u=[],colors:c=l.themeColorRange,markerValue:d,showLabels:f=!0,tooltip:g,showAnimation:b=!1,className:v}=t,w=e.__rest(t,["values","colors","markerValue","showLabels","tooltip","showAnimation","className"]),h=((e,t,r)=>{if(void 0===e)return"";let a=0;for(let s=0;s<t.length;s++){const n=t[s],m=o.getColorClassNames(r[s],l.colorPalette.background).bgColor;if(a+=n,a>=e)return m}return""})(d,u,c),{tooltipProps:p,getReferenceProps:N}=r.useTooltip();return n.default.createElement(n.default.Fragment,null,n.default.createElement(r.default,Object.assign({text:g},p)),n.default.createElement("div",Object.assign({ref:s,className:a.tremorTwMerge(m("root"),v)},w),f?n.default.createElement(i,{values:u}):null,n.default.createElement("div",{className:a.tremorTwMerge(m("barWrapper"),"relative w-full flex items-center h-2")},n.default.createElement("div",{className:a.tremorTwMerge("flex-1 flex items-center h-full overflow-hidden rounded-tremor-full")},u.map(((e,t)=>{var r;const s=null!==(r=c[t])&&void 0!==r?r:"gray";return n.default.createElement("div",{key:`item-${t}`,className:a.tremorTwMerge(m("categoryBar"),"h-full",o.getColorClassNames(s,l.colorPalette.background).bgColor),style:{width:`${e}%`}})}))),void 0!==d?n.default.createElement("div",Object.assign({ref:p.refs.setReference,className:a.tremorTwMerge(m("markerWrapper"),"absolute right-1/2 -translate-x-1/2 w-5"),style:{left:`${d}%`,transition:b?"all 1s":""}},N),n.default.createElement("div",{className:a.tremorTwMerge(m("marker"),"ring-2 mx-auto rounded-tremor-full h-4 w-1","ring-tremor-brand-inverted","dark:ring-dark-tremor-brand-inverted",h)})):null)))}));u.displayName="CategoryBar",module.exports=u;
